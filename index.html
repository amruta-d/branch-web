<!doctype html>
<html>
<head>
  <!-- meta -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <title>Branch Testing by ethanneff</title>
  <meta name="viewport" content="width=device-width">

  <!-- styles -->
  <style type="text/css" media="screen">
    * { margin: 0; padding: 0; box-sizing: border-box; color: #212121; text-align: center; border: none;}
    body { background-color: #fafafa; border-top: 0.5em solid #212121; }
    a { text-decoration: none; color: #03a9f4; }
    img {max-width: 90%}
    button {padding: 1em; margin: 0.5em; width: 90%; max-width: 25em; background-color: #212121; color: #ffffff; font-size: 1em;}
  </style>
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body>
  <!-- content -->
  <div class="wrapper">
    <header>
      <h1>Branch Testing</h1>
    </header>
    <section>
      <img src="http://lorempixel.com/400/400/">
      <h3>Title</h3>
      <p>Description</p>
      <button type="button" onclick="branch.deepviewCta()">Get the app</button>
    </section>
    <footer>
      <p><small>&mdash; <a href="https://github.com/ethanneff/branch-deepview">view the code</a> &mdash;</small></p>
      <p><small>&mdash; <a href="https://github.com/ethanneff">ethanneff</a> &mdash;</small></p>
    </footer>
  </div>

  <!-- branch -->
  <script type="text/javascript">
    (function(b, r, a, n, c, h, _, s, d, k) {if (!b[n] || !b[n]._q) {for (; s < _.length;) c(h, _[s++]); d = r.createElement(a); d.async = 1; d.src = "https://cdn.branch.io/branch-latest.min.js"; k = r.getElementsByTagName(a)[0]; k.parentNode.insertBefore(d, k); b[n] = h; } })(window, document, "script", "branch", function(b, r) {b[r] = function() {b._q.push([r, arguments]); }; }, {_q: [], _v: 1 }, "addListener applyCode banner closeBanner creditHistory credits data deepview deepviewCta first getCode init link logout redeem referrals removeListener sendSMS setIdentity track validateCode".split(" "), 0);

    branch.init('key_live_hkcWKzPCjlujo9piWgv4vohezDjlXWRk');

    var analytics = {
      channel: 'channel',
      feature: 'feature',
      campaign: 'campaign',
      stage: 'stage',
      tags: ['one', 'two', 'three'],
      data: {
        custom: 'data',
        even_more_custom: true,
        this_is_custom: 321,
        $fallback_url: 'www.example.com',
        $deeplink_path: 'nav/here/',     
        $og_app_id: '12345',
        $og_title: 'My app',
        $og_description: 'My description.',
        $og_image_url: 'http://lorempixel.com/400/400/'
      }
    };

    var properties = {
      make_new_link: false,    // Should the deepview create a new link, even if a link already exists?
      open_app: true          // Should the deepview try to open the app passively (without the user actively clicking) on load?
    };

    branch.deepview(analytics, properties, function(err) {
      console.log(err || 'no error');
    });
  </script>
</body>
</html>
